# Филми и участниците в тях

Направете система за филми и участниците в тях.

## Функционалности

Като минимум, системата трябва да поддържа следните неща:

- Филми с характеристики като заглавие, година, продължителност, описание, жанр, участници и рейтинг
- Хора - поне с име, националност и рожден ден
  - Могат да участват във филми като актьор/режисьор/автор/екип
- Да може да се добавят/променят/изтриват филми, хора и участия на хора във филми
- Потребители
  - Имат име, имейл
  - Възможност за логин/регистрация/забравена парола
  - Роли - администратор и обикновен потребител:
    - Администраторите могат да променят съдържанието свързано с филми/хора
    - Потребителите могат да дават оценкa (в скала от 1 до 10) за филм
  - Рейтингът за даден филм се формира като средното на всички оценки за него
  - Един потребител "харесва" даден филм, ако оценката, която е дал за него
    е по-голяма или равна от неговата средна оценка за всички филми
- Разглеждане на филм. Трябва да можем да:
  - Изброим всички негови участници (актьори/режисьори/автори/екип)
  - Покажем неговия рейтинг и популярност (брой харесвания)
  - Изброим други филми, които са се харесали на потребители, които харесват текущия филм
    (сортирани по релевантност - брой харесвания или рейтинг)
- Разглеждане на човек. Трябва да можем да:
  - Намираме филмите, в които е участвал
  - Намираме други хора, с които той е участвал в един и същи филм
- Възможност за търсене на филми - по различни комбинации от:
  - Заглавие, година, продължителност, описание, жанр, рейтинг
    - За текстови полета може да търсим точно съвпадение или съдържание на ключова дума
  - Участие на даден актьор/режисьор/автор/екип
  - Върнатите резултати да могат да се сортират по рейтинг

## Потребителски интерфейс
  Интерфейсът трябвa да демонстрира изискваната функционалнoст. Можете да го направите като уеб или конзолно приложение:
  - [Уеб приложение със Sinatra](https://github.com/fmi/ruby-course-guides/blob/master/web-with-sinatra-basics.md)
  - Конзолно приложение - В [трета задача](http://fmi.ruby.bg/tasks/3) писахме помощни инструменти за създаването им.
  [Тук](https://www.sitepoint.com/ruby-command-line-interface-gems/) може да разгледате други алтернативи.
  Използвайки една или множество от команди може да покажете вашата имплементация. Ако търсите нещо по-екзотично, може
  да разгледате [тази](https://github.com/gavinlaking/vedeu) библиотека за създаване на конзолни приложения.

## Бележки
- Използвайте релационна база от данни. Например SQLite3. За целта ще ви трябва
  sqlite3 gem-а, или пък може да ползвате ORM, например
  [ActiveRecord](http://guides.rubyonrails.org/active_record_basics.HTML)
- Паролите не трябва да се съхраняват в чист вид. Трябва да са поне хеширани - прочетете за добрите
  практики по темата.
- Валидирайте въведените данни от потребител - имейл, рейтингите трябва да са в интервала [1, 10] и т.н.
  Показвайте смислени съобщения за грешки.
- Постарайте се да покриете максимална част от кода си с автоматизирани тестове и да направите добро разделение
  между "логика" и "интерфейс". Това индиректно означава, че не трябва да има много код директно в DSL-а на
  Sinatra или библиотеката, която ползвате за конзолен интерфейс. Не се притеснявайте да правите допълнителни
  класове.
